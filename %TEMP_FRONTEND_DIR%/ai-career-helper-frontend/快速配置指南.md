# 🚀 前端模块 - 快速配置指南

## 📋 已完成的修改

✅ 所有硬编码的本地地址已替换为环境变量占位符：
- 后端 API: `{{RENDER_BACKEND_URL}}` → 通过 `VITE_API_BASE` 配置
- 简历医生: `{{STREAMLIT_RESUME_DOCTOR_URL}}` → 通过 `VITE_RESUME_DOCTOR_URL` 配置

---

## ⚡ 快速部署步骤

### 1. 在 Vercel 中配置环境变量

登录 [Vercel Dashboard](https://vercel.com/dashboard) → 选择项目 → **Settings** → **Environment Variables**

添加以下两个环境变量：

| 变量名 | 值 | 说明 |
|--------|-----|------|
| `VITE_API_BASE` | `https://your-backend.onrender.com` | 后端服务地址（替换为你的实际地址） |
| `VITE_RESUME_DOCTOR_URL` | `https://your-resume-doctor.streamlit.app` | 简历医生地址（替换为你的实际地址） |

**重要**: 
- 环境选择：勾选 `Production`、`Preview`、`Development`
- 值不要包含末尾斜杠 `/`

### 2. 重新部署

配置完环境变量后，在 Vercel Dashboard 中：
1. 点击 **Deployments** 标签页
2. 找到最新部署，点击 **⋯** → **Redeploy**

或推送一个空提交：
```bash
git commit --allow-empty -m "触发重新部署"
git push
```

### 3. 验证

部署完成后：
1. 打开浏览器开发者工具（F12）
2. 查看 Console，应该看到：
   ```
   [request] API_BASE -> https://your-backend.onrender.com
   [ResumeDoctor] resumeDoctorUrl -> https://your-resume-doctor.streamlit.app
   ```
3. 测试登录、API 调用等功能

---

## 🔧 本地开发配置

在项目根目录创建 `.env.local` 文件：

```env
VITE_API_BASE=http://localhost:8000
VITE_RESUME_DOCTOR_URL=http://localhost:8501
```

然后运行：
```bash
npm run dev
```

---

## 📝 修改的文件清单

1. ✅ `src/utils/request.js` - API 基础地址
2. ✅ `vite.config.js` - 开发代理配置
3. ✅ `src/App.vue` - 简历医生跳转链接
4. ✅ `src/components/ResumeDoctor.vue` - iframe 嵌入地址
5. ✅ `src/components/VirtualExperiment.vue` - API 调用和错误提示
6. ✅ `src/components/Login.vue` - 用户服务地址

---

## 📚 详细文档

查看 [部署环境变量配置指南.md](./部署环境变量配置指南.md) 获取完整说明。

---

## ✅ 检查清单

部署前确认：
- [ ] `VITE_API_BASE` 已配置为后端 Render 地址
- [ ] `VITE_RESUME_DOCTOR_URL` 已配置为 Streamlit Cloud 地址
- [ ] 已重新部署项目
- [ ] 浏览器控制台无错误
- [ ] API 请求正常
- [ ] 简历医生 iframe 正常加载

---

**配置完成后即可正常使用！** 🎉
